<h2 class=nopad>Hello World</h2>
A fairly lengthy example on how an iterator implementation could be done.<br>
<code><pre>
:arch x86_64 linux
:linker #LINKER -lc

:struct Iterator {
   4 len
   [1:] array
}

from {1:} heap -&gt; Iterator {
   %array = $malloc ?heap
   '[array] = heap
   ret {?heap, array}
}

map Iterator iter, [] func, -&gt; Iterator:
   loop {'i ++}, &lt;= {%i 4}, (i &lt; iter#len):
      'iter#array.i = !func iter#array.i
   ret iter
   
for_each Iterator iter, [] func, init {%i 4}, loop {'i ++}, (i &lt; iter#len):
   !func iter#array.i
   $free iter#array
   ret

entry:
   Iterator !from {1, 2, 3, 4, 5, 6, 7, 8}
      =&gt; !map |x: x * 2|
      =&gt; !for_each |x: $printf "%d", x|
   ret
</pre></code>
<br>
The <c>map</c> label could also be defined in the following way. Although it makes it much less readable.<br>
<code><pre>
map [] func, Iterator iter, init {%i 4= 0}, loop {'i ++}, (i &lt; iter#len), =&gt; {ret iter}, -&gt; Iterator:
   'iter#array.i = !func iter#array.i
</pre></code>
